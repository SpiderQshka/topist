[{"/home/spiderqshka/Documents/GitHub/topist/src/components/Album/index.tsx":"1","/home/spiderqshka/Documents/GitHub/topist/src/pages/Main/index.tsx":"2","/home/spiderqshka/Documents/GitHub/topist/src/components/Video/index.tsx":"3","/home/spiderqshka/Documents/GitHub/topist/src/components/Polaroid/index.tsx":"4","/home/spiderqshka/Documents/GitHub/topist/src/index.tsx":"5","/home/spiderqshka/Documents/GitHub/topist/src/App.tsx":"6","/home/spiderqshka/Documents/GitHub/topist/src/components/Album/Page/index.tsx":"7","/home/spiderqshka/Documents/GitHub/topist/src/helpers/awsApi.ts":"8","/home/spiderqshka/Documents/GitHub/topist/src/helpers/index.ts":"9","/home/spiderqshka/Documents/GitHub/topist/src/config.ts":"10","/home/spiderqshka/Documents/GitHub/topist/src/components/Album/FlipBook/index.tsx":"11","/home/spiderqshka/Documents/GitHub/topist/src/components/Loader/index.tsx":"12"},{"size":1564,"mtime":1613292627330,"results":"13","hashOfConfig":"14"},{"size":657,"mtime":1613284195487,"results":"15","hashOfConfig":"14"},{"size":1122,"mtime":1613290649605,"results":"16","hashOfConfig":"14"},{"size":829,"mtime":1613278048018,"results":"17","hashOfConfig":"14"},{"size":197,"mtime":1613273286230,"results":"18","hashOfConfig":"14"},{"size":154,"mtime":1613289982932,"results":"19","hashOfConfig":"14"},{"size":3218,"mtime":1613290044287,"results":"20","hashOfConfig":"14"},{"size":3412,"mtime":1613272842455,"results":"21","hashOfConfig":"14"},{"size":976,"mtime":1613272848159,"results":"22","hashOfConfig":"14"},{"size":93,"mtime":1613276741817,"results":"23","hashOfConfig":"14"},{"size":1403,"mtime":1613282355032,"results":"24","hashOfConfig":"14"},{"size":310,"mtime":1613284131242,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"c2tjlp",{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"37"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/spiderqshka/Documents/GitHub/topist/src/components/Album/index.tsx",[],"/home/spiderqshka/Documents/GitHub/topist/src/pages/Main/index.tsx",[],["54","55"],"/home/spiderqshka/Documents/GitHub/topist/src/components/Video/index.tsx",[],"/home/spiderqshka/Documents/GitHub/topist/src/components/Polaroid/index.tsx",[],"/home/spiderqshka/Documents/GitHub/topist/src/index.tsx",[],["56","57"],"/home/spiderqshka/Documents/GitHub/topist/src/App.tsx",[],"/home/spiderqshka/Documents/GitHub/topist/src/components/Album/Page/index.tsx",["58","59","60"],"/home/spiderqshka/Documents/GitHub/topist/src/helpers/awsApi.ts",["61","62","63"],"import AWS from \"aws-sdk\";\nimport { ListObjectsRequest } from \"aws-sdk/clients/s3\";\nimport axios from \"axios\";\nimport { IDataObject } from \"interfaces\";\n\nconst getFileExt: (fileName: string) => string = (fileName: string) =>\n  fileName.slice(fileName.lastIndexOf(\".\") + 1);\n\nexport class AWS_API {\n  private s3Instance: AWS.S3;\n  private bucketName: string;\n  constructor() {\n    this.bucketName = process.env.REACT_APP_AWS_BUCKET_NAME || \"bucket\";\n\n    AWS.config.region = process.env.REACT_APP_AWS_REGION || \"eu-central-1\"; // Region\n    AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n      IdentityPoolId: process.env.REACT_APP_AWS_IDENTITY_POOL_ID || \"\",\n    });\n\n    this.s3Instance = new AWS.S3({\n      apiVersion: process.env.REACT_APP_AWS_API_VERSION,\n      params: { Bucket: this.bucketName },\n    });\n  }\n  getBucketDirectories = (): Promise<string[]> =>\n    new Promise((resolve) => {\n      this.s3Instance.listObjects(\n        { Delimiter: \"/\" } as ListObjectsRequest,\n        (err, data) => {\n          if (err) {\n            console.error(err);\n            resolve([]);\n          } else {\n            const albumsNames = data.CommonPrefixes?.map((commonPrefix) => {\n              const prefix = commonPrefix.Prefix as string;\n              const albumName = decodeURIComponent(prefix.replace(\"/\", \"\"));\n              return albumName;\n            }) as string[];\n            resolve(albumsNames.sort((a, b) => (a < b ? -1 : 1)));\n          }\n        }\n      );\n    });\n  getDirectoryConfig = (directoryName: string): Promise<IDataObject | null> =>\n    new Promise((resolve) => {\n      this.s3Instance.listObjects(\n        {\n          Prefix: directoryName + \"/\",\n        } as ListObjectsRequest,\n        (err, data) => {\n          if (err) {\n            resolve(null);\n          } else {\n            const href = this.s3Instance.endpoint.href;\n            const bucketUrl = href + this.bucketName + \"/\";\n\n            const configFileLink = (data.Contents?.map((file) => {\n              if (file.Size || 0 > 0) {\n                const fileKey = file.Key as string;\n                const fileUrl = bucketUrl + fileKey;\n                return fileUrl;\n              }\n              return null;\n            }) as string[])\n              .filter((file) => !!file)\n              .filter((fileLink) => getFileExt(fileLink) === \"json\")[0];\n\n            axios.get(configFileLink).then((response) => {\n              resolve(response.data);\n            });\n          }\n        }\n      );\n    });\n  getDirectoryMediaLinks = (directoryName: string): Promise<string[]> =>\n    new Promise((resolve) => {\n      this.s3Instance.listObjects(\n        {\n          Prefix: directoryName + \"/\",\n        } as ListObjectsRequest,\n        (err, data) => {\n          if (err) {\n            resolve([]);\n          } else {\n            const href = this.s3Instance.endpoint.href;\n            const bucketUrl = href + this.bucketName + \"/\";\n\n            const filesLinks = (data.Contents?.map((file) => {\n              if (file.Size || 0 > 0) {\n                const fileKey = file.Key as string;\n                const fileUrl = bucketUrl + fileKey;\n                return fileUrl;\n              }\n            }) as string[])\n              .filter((file) => !!file)\n              .filter((fileLink) => getFileExt(fileLink) !== \"json\");\n\n            resolve(filesLinks);\n          }\n        }\n      );\n    });\n}\n","/home/spiderqshka/Documents/GitHub/topist/src/helpers/index.ts",[],["64","65"],"/home/spiderqshka/Documents/GitHub/topist/src/config.ts",[],"/home/spiderqshka/Documents/GitHub/topist/src/components/Album/FlipBook/index.tsx",[],"/home/spiderqshka/Documents/GitHub/topist/src/components/Loader/index.tsx",[],{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"66","replacedBy":"70"},{"ruleId":"68","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":19,"column":60,"nodeType":"74","messageId":"75","endLine":19,"endColumn":62},{"ruleId":"72","severity":1,"message":"73","line":75,"column":65,"nodeType":"74","messageId":"75","endLine":75,"endColumn":67},{"ruleId":"72","severity":1,"message":"73","line":96,"column":63,"nodeType":"74","messageId":"75","endLine":96,"endColumn":65},{"ruleId":"76","severity":1,"message":"77","line":58,"column":32,"nodeType":"78","messageId":"79","endLine":58,"endColumn":37},{"ruleId":"80","severity":1,"message":"81","line":88,"column":59,"nodeType":"82","messageId":"83","endLine":88,"endColumn":61},{"ruleId":"76","severity":1,"message":"77","line":89,"column":32,"nodeType":"78","messageId":"79","endLine":89,"endColumn":37},{"ruleId":"66","replacedBy":"84"},{"ruleId":"68","replacedBy":"85"},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],["86"],["87"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-self-compare","Comparing to itself is potentially pointless.","BinaryExpression","comparingToSelf","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd",["86"],["87"],"no-global-assign","no-unsafe-negation"]